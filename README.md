# Красный антивирус

Мы хотим написать программу, которая будет отслеживать все системные вызовы. Анализировать их и на этой основе убивать потенциально опасные процессы.

# Сборка для unix

1. Склонируйте репозиторий
2. Запустите скрипт установки
3. Теперь демон установлен на вашу машину, а в папке **build** лежат исполняемые файлы прочих утилит

# Тестовый вирус

Программа принимает на вход директорию, файлы которой она будет без остановки зашифровывать при помощи операции побитового не.

# Антивирус

Теперь антивирус представляет из себя демон.

## Настройка и запуск

1. Положите в папку ```/etc/systemd/system/``` файл **redAntivirus.service**.
2. Соберите под unix
3. Исполняемый файл **Antivirus** положите в папку ```/usr/local/bin/```
4. Теперь демон можно запустить командой
```
systemctl start redAntivirus.service
```
5. Посмотреть статус можно командой
```
systemctl status redAntivirus.service
```
5. Завершить демон можно командой
```
systemctl stop redAntivirus.service
```

## Принцип работы

Теперь демон в фоновом режиме мониторит все действия процессов. Если кто-то сделал в единицу времени слишком много действий - то он будет убит.
Также можно защищать полезные процессы. Для этого нужно выполнить команду ```./Commander friends```. Тогда на 10 секунд демон будет мониторить
процессы. Запомнит их и не будет их в будущем убивать. Еще в эти 10 секунд он запомнит максимальное количество операций. И в будущем будет сравнивать
с этим значением.

# Управляющая программа

У нее есть три команды.

* ```./Commander friends``` - запускает режим 10 секунд на поиск хороших процессов. Которые потом не будут убиваться.
* ```./Commander clear``` - чистит список хороших процессов. Теперь убиваются все, кто много делает.
* ```./Commander friends``` - ставит на значение по умолчанию количество действий, нужное, чтобы признать процесс врагом и убить.
